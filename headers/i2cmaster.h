#ifndef _I2CMASTER_H
#define _I2CMASTER_H   1

#include <stdint.h>
#include <avr/io.h>
#include <util/twi.h>

/************************************************************************/
/* @brief init SCL frequency                                            */
/************************************************************************/
void i2c_init(void);

/************************************************************************/
/* @brief send a stop condition                                         */
/************************************************************************/
void i2c_stop(void);

/************************************************************************/
/* @brief send a start and a start+R/W condition                        */
/************************************************************************/
uint8_t i2c_start(uint8_t addr, uint8_t mode);

/************************************************************************/
/* @breif transmit a packet to a slave                                  */
/************************************************************************/
uint8_t i2c_transmit(uint8_t data);

/************************************************************************/
/* @brief receive a packet from a slave                                 */
/************************************************************************/
uint8_t i2c_receive(uint8_t* data, uint8_t no_ack);

#endif
